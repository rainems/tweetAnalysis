{% extends 'base.html' %}

<!-- search filters -->
{% block filters %}
    <h3>Tweet Filters</h3>
    <form id='searchFiltersForm' action='/' method='post'>
        <div class="input-group">
            <div class="input-group-addon">Keywords</div>
            <input type="text" id="tweetSearchQuery" class="form-control" name='keywords' value={{keywords}}>
        </div>
        <div class="input-group">
            <div class="input-group-addon">Location</div>
            <input type="text" id="tweetGeocodeQuery" class="form-control" name='location' placeholder="e.g. 'NYC' 'new york' 'manhattan'" value={{location}}>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
    </form>
{% endblock %}

<!-- data block -->

{% block data %}
<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapse1">Negative Sentiment<span class="badge pull-right">
 {{ negative|length }}</span>
</a>
            </h4>
        </div>
        <div id="collapse1" class="panel-collapse collapse">

            <ul class="list-group">
                {% if not negative %} No tweets to display. Sad! {% else %} {% for t in negative %}
                <li class="list-group-item">
                    <p>
                        <b>Score: {{ t.sentiment }}</b>
                        {{ t.text }}
                        <br>
                        <strong>@{{ t.user.screen_name }}</strong> | <a href="https://www.twitter.com/{{t.user.screen_name}}/status/{{t.id}}">link</a>>
                        <br>{% if t.place %} {{t.place.full_name}} {% endif %} </p>

                </li>
                {% endfor %} {% endif %}
            </ul>

            <div class="panel-footer">Footer</div>
        </div>
    </div>
</div>

<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapse2">Neutral Sentiment <span class="badge pull-right">
 {{ neutral|length }}</span> </a>
            </h4>
        </div>
        <div id="collapse2" class="panel-collapse collapse">
            <ul class="list-group">
                {% if not neutral %} No tweets to display. Sad! {% else %} {% for t in neutral %}
                <li class="list-group-item">
                    <p>
                        <b>Score: {{ t.sentiment }}</b>
                        {{ t.text }}
                        <br>
                        <strong>@{{ t.user.screen_name }}</strong> | <a href="https://www.twitter.com/{{t.user.screen_name}}/status/{{t.id}}">link</a>
                        <br>{% if t.place %} {{t.place.full_name}} {% endif %} </p>

                    </p>

                </li>
                {% endfor %} {% endif %}
            </ul>
            <div class="panel-footer">Footer</div>
        </div>
    </div>
</div>


<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" href="#collapse3">Positive Sentiment <span class="badge pull-right"> {{ positive|length }}</span> </a>
            </h4>
        </div>
        <div id="collapse3" class="panel-collapse collapse">
            <ul class="list-group">
                {% if not positive %} No tweets to display. Sad! {% else %} {% for t in positive %}
                <li class="list-group-item">
                    <p>
                        <b>Score: {{ t.sentiment }}</b>
                        {{ t.text }}
                        <br>
                        <strong>@{{ t.user.screen_name }}</strong> | <a href="https://www.twitter.com/{{t.user.screen_name}}/status/{{t.id}}">link</a>
                        <br>{% if t.place %} {{t.place.full_name}} {% endif %}</p>

                    </p>

                </li>
                {% endfor %} {% endif %}
            </ul>
            <div class="panel-footer">Footer</div>
        </div>
    </div>
</div>
{% endblock %} {% block script %}
<script type="text/javascript">
    $(document).ready(function () {

        /* Also go to search when you press enter in search bar */
        $('#tweetSearchQuery').keypress(function (e) {
            let key = e.which;
            if (key == 13) { // enter key
            }
        });

        /* Also go to search when you press enter in geocode bar */
        $('#tweetGeocodeQuery').keypress(function (e) {
            let key = e.which;
            if (key == 13) { // enter key 
            }
        });
    });

</script>
{% endblock %}
